#!/bin/sh

down(){
	echo "$1 down..." >&2
	xdotool keydown $1
}
up(){
	echo "$1 up..." >&2
	xdotool keyup $1
}
press(){
	down $1
	up $1
}

IFS='+'
list=$(echo $@)
unset IFS

for c in $list
do
	echo "$c" | grep -Ei 'ctrl|super|shift|alt' >/dev/null && {
		C=$(echo "$c" | sed 's/ctrl/control/' | tr 'csa' 'CSA')_L
		down $C
		up="$up $C"
	} || {
		press $c
	}
done

for C in $up
do
	up $C
done
