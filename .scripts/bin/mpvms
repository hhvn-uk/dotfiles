#!/bin/sh


[ "$1" = "video" ] && {
	shift
	hmpv pause /tmp/mpv-socket
	herbe "Playing video(s): $@" &
	while [ $# -ne 0 ]
	do
		printf "%s\0" "$1"
		shift
	done | xargs -0 mpv --input-ipc-server=/tmp/mpv-socket2 -- || herbe "Failed to play video(s): $@"
	exit
} || {
	herbe "Playing music: $@" &
	while [ $# -ne 0 ]
	do
		printf "%s\0" "$1"
		shift
	done | xargs -0 mpv --input-ipc-server=/tmp/mpv-socket --no-video -- || herbe "Failed to play music: $@"
	exit
}
