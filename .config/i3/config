#
# i3/config
# Created by Hayden Hamilton
#
# haydenvh.com
# Copyright (c) 2019 Hayden Hamilton. LICENSE:GPLv2 ../../.licenses/gplv2.license
#

##Loading Xresources with XRDB
exec xrdb ~/.Xresources

##Setting font
font pango:monospace 8

##Setting variables
set $mod Mod4
set $terminal st
set $browser vimb
set $alt mod1
exec export BROWSER="surf"
exec export EDITOR="vim"
exec_always export SUDO_ASKPASS="$HOME/.scripts/bin/dmenu/daskpass"

##Setting gaps
gaps inner 10
for_window [class="^.*"] border pixel 0

##Setting Xresources
set_from_resource $foreground foreground #343c62
set_from_resource $background background #090711
set_from_resource $black color0 #141726
set_from_resource $black2 color8 #dc6f3c
set_from_resource $red color1 #24283c
set_from_resource $red2 color9 #4747e1
set_from_resource $green color2 #31364b
set_from_resource $green2 color10 #892b2b
set_from_resource $yellow color3 #40445c
set_from_resource $yellow2 color11 #a1a1d9
set_from_resource $blue color4 #575b72
set_from_resource $blue2 color12 #658a1f
set_from_resource $magenta color5 #777b8e
set_from_resource $magenta2 color13 #ea74c7
set_from_resource $cyan color6 #a3a6b3
set_from_resource $cyan2 color14 #cfcfcf
set_from_resource $white color7 #c7cad9
set_from_resource $white2 color15 #3ab475

##Setting bar
bar{
	font pango:monospace 7
	i3bar_command "sleep 2;i3bar"
	status_command i3blocks
	position top
	id bar-1
	mode dock
	modifier none
	separator_symbol " "
	colors {
		background $background
		statusline #eeddee
		focused_workspace $background #ffffff #000000
		active_workspace $background $background #ffffff
		inactive_workspace $background $background #ffffff
		urgent_workspace $background #ffffff #990000
	}
	#bindsym button1 nop
	tray_output none
}
bar{
	font pango:monospace 7
	status_command i3blocks -c .config/i3blocks/config2
	position top
	id bar-2
	mode dock
	modifier none
	workspace_buttons no
	separator_symbol " "
	colors {
		background $background
		statusline #eeddee
	}
	#bindsym button1 nop
	tray_output none
}

##Setting workspace names		
set $ws1 "[1.WWW]"
set $ws2 "[2.DEV]"
set $ws3 "[3.DEV]"
set $ws4 "[4.DEV]"
set $ws5 "[5.DEV]"
set $ws6 "[6.SYS]"
set $ws7 "[7.SYS]"
set $ws8 "[8.IRC]"
set $ws9 "[9.GFX]"
set $ws10 "[0.MSC]"

##Change workspace
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+0 workspace $ws10

##Move container to workspace & change
bindsym $mod+shift+1 exec moveone "$ws1"
bindsym $mod+shift+2 exec moveone "$ws2"
bindsym $mod+shift+3 exec moveone "$ws3"
bindsym $mod+shift+4 exec moveone "$ws4"
bindsym $mod+shift+5 exec moveone "$ws5"
bindsym $mod+shift+6 exec moveone "$ws6"
bindsym $mod+shift+7 exec moveone "$ws7"
bindsym $mod+shift+8 exec moveone "$ws8"
bindsym $mod+shift+9 exec moveone "$ws9"
bindsym $mod+shift+0 exec moveone "$ws10"

##Move entire workspace & change
bindsym $mod+ctrl+1 exec moveentire "$ws1"
bindsym $mod+ctrl+2 exec moveentire "$ws2"
bindsym $mod+ctrl+3 exec moveentire "$ws3"
bindsym $mod+ctrl+4 exec moveentire "$ws4"
bindsym $mod+ctrl+5 exec moveentire "$ws5"
bindsym $mod+ctrl+6 exec moveentire "$ws6"
bindsym $mod+ctrl+7 exec moveentire "$ws7"
bindsym $mod+ctrl+8 exec moveentire "$ws8"
bindsym $mod+ctrl+9 exec moveentire "$ws9"
bindsym $mod+ctrl+0 exec moveentire "$ws10"

##Move container to workspace
#bindsym $mod+Mod4+1 move container to workspace $ws1
bindsym $mod+Mod1+2 move container to workspace $ws2
bindsym $mod+Mod1+3 move container to workspace $ws3
bindsym $mod+Mod1+4 move container to workspace $ws4
bindsym $mod+Mod1+5 move container to workspace $ws5
bindsym $mod+Mod1+6 move container to workspace $ws6
bindsym $mod+Mod1+7 move container to workspace $ws7
bindsym $mod+Mod1+8 move container to workspace $ws8
bindsym $mod+Mod1+9 move container to workspace $ws9
bindsym $mod+Mod1+0 move container to workspace $ws10

##Outputs for workspaces
workspace $ws1 output VGA1
workspace $ws2 output LVDS1
workspace "TEMPORARY" output VGA1

##Setting windows to workspaces
assign [class="Gimp"] $ws9
assign [class="Vimb"] $ws1
assign [class="URxvt" instance="irssi"] $ws8

##Window rule
for_window [class="URxvt" instance="fileman"] floating enable; sticky enable

##Movement bindings
bindsym $mod+h 				focus left
bindsym $mod+shift+h 			move left
bindsym $mod+ctrl+h 			resize shrink width 5px or 5ppt
bindsym $mod+j 				focus down
bindsym $mod+shift+j 			move down
bindsym $mod+ctrl+j 			resize shrink height 5px or 5ppt
bindsym $mod+k 				focus up
bindsym $mod+shift+k 			move up
bindsym $mod+ctrl+k 			resize grow height 5px or 5ppt
bindsym $mod+l 				focus right
bindsym $mod+shift+l 			move right
bindsym $mod+ctrl+l 			resize grow width 5px or 5ppt

##Symbol bindings
bindsym $mod+shift+space 		floating toggle
bindsym $mod+space 			focus mode_toggle
bindsym $mod+Return 			exec $terminal
bindsym $mod+shift+Return		exec $terminal -e tty-clock -s -c -C 7 -b
bindsym $mod+Escape 			exec userinput "Do you want to quit i3?" "sudo -A i3-msg exit"
bindsym $mod+shift+Escape		exec userinput "Do you want to shutdown?" "sudo -A halt"
bindsym $mod+ctrl+Escape 		exec userinput "Do you want to reboot?" "sudo -A reboot"
bindsym $mod+bracketleft		exec userinput "Do you want to suspend?" "sudo -A zzz"
bindsym $mod+shift+bracketleft		exec userinput "Do you want to hibernate?" "sudo -A ZZZ"

##Letter bindings
bindsym $mod+q 				scratchpad show
bindsym $mod+shift+q 			kill
bindsym $mod+w 				exec rfeh ~/.wallpapers/
bindsym $mod+shift+w 			exec fehffile ~/.wall
bindsym $mod+ctrl+w			exec wallblur true
bindsym $mod+$alt+w			exec fehffile ~/.cache/rfeh/prev
bindsym $mod+e 				exec $terminal -e dvimedit
bindsym $mod+shift+e 			exec $terminal -e dvimedit
bindsym $mod+r				exec $terminal -n fileman -e dfm fm
bindsym $mod+shift+r 			restart
bindsym $mod+t 				layout tabbed
bindsym $mod+shift+t 			layout toggle split
bindsym $mod+y 				exec $terminal -n irssi -e irssi --home ~/.config/irssi/
bindsym $mod+shift+y 			exec dircgetpass
bindsym $mod+u				exec wallvar ~/.wallpapers/ 60; exec dunstify "Auto-changing wallpapers on."
bindsym $mod+shift+u			exec killall wallvar; exec dunstify "Auto-changing wallpapers off."
bindsym $mod+i				exec $terminal -n fileman -e ffflaunch
bindsym $mod+shift+i			exec $terminal -n fileman -e ffflaunch
bindsym $mod+o 				exec makegrid $TERMINAL
##bindsym $mod+super+o 	
bindsym $mod+p 				focus parent
bindsym $mod+shift+p 			focus child
bindsym $mod+a 				exec screenkey
bindsym $mod+shift+a 			exec killall screenkey
bindsym $mod+s 				exec dpass
bindsym $mod+shift+s 			exec dpass
bindsym $mod+d 				exec dmenu_run
bindsym $mod+shift+d 			exec dmenu_run
bindsym $mod+f 				fullscreen toggle
bindsym $mod+shift+f 			fullscreen toggle
bindsym $mod+g				exec $terminal -name newsboat -e newsboat
bindsym $mod+shift+g			exec $terminal -name calcurse -e calcurse -D ~/.config/calcurse
##HJKL in movement bindings
bindsym $mod+z 				split v
bindsym $mod+shift+z 			split v
bindsym $mod+x 				split h
bindsym $mod+shift+x 			split h
bindsym $mod+c 				exec locker /tmp/mpv-socket2 /tmp/mpv-socket
bindsym $mod+shift+c			exec $terminal -e slock_mod /tmp/mpv-socket2 /tmp/mpv-socket
bindsym $mod+v				workspace "TEMPORARY"
bindsym $mod+shift+v			exec killall mpv
bindsym $mod+b 				exec vimb --no-maximize
bindsym $mod+shift+b 			exec dmpvurl /tmp/mpv-socket /tmp/mpv-socket2
##bindsym $mod+n
##bindsym $mod+shift+n
bindsym $mod+m 				exec dmount
bindsym $mod+shift+m 			exec dumount

##Starting scripts/programs
exec monitors.sh
exec bash ~/.scripts/input/keyboard
exec picom --config .config/picom/config -b -f 
exec bash ~/.scripts/input/language
exec dunst --config ~/.config/dunst/config
exec nm-applet &
exec urxvtd -f -o -q
exec mpvlisten /tmp/mpv-socket2 /tmp/mpv-socket
exec fehffile ~/.wall.png
exec_always notify-send "i3 restarted. Press Super(windows key)+F1 to open the manual."
exec_always brightnessctl s 100%
exec_always crefresh
exec scratcher

##Setting colors for tabbed windows
#class			#border		#background	#text
client.focused          $yellow		$red		$white
client.unfocused        $yellow		$background	$white
client.focused_inactive $yellow		$background	$white
client.placeholder      $yellow		$background	$white
client.urgent           $yellow 	$background	$yellow2

##Setting volume
bindsym XF86AudioRaiseVolume exec hvol 3.5%+
bindsym $mod+plus exec hvol 3.5%+
bindsym $mod+minus exec hvol 3.5%-
bindsym XF86AudioLowerVolume exec hvol 3.5%-
bindsym XF86AudioMute exec hvol toggle

##Setting brightness
bindsym XF86MonBrightnessUp exec brightnessctl --quiet set +5%
bindsym XF86MonBrightnessDown exec brightnessctl --quiet set -5%

##Function bindings (hmpv)
bindsym F8				exec dmpv videos /tmp/mpv-socket2 /tmp/mpv-socket --fs fuzz
bindsym shift+F8			exec rmpv videos 50
bindsym F9 				exec dmpv music /tmp/mpv-socket /tmp/mpv-socket2 --no-video fuzz
bindsym shift+F9			exec rmpv music 50
bindsym F10 				exec hmpv back /tmp/mpv-socket
bindsym shift+F10 			exec hmpv prev /tmp/mpv-socket
bindsym F11 				exec hmpv toggle /tmp/mpv-socket; exec hmpv toggle /tmp/mpv-socket2
bindsym shift+F11			exec hmpv quit /tmp/mpv-socket
bindsym F12 				exec hmpv forward /tmp/mpv-socket
bindsym shift+F12			exec hmpv next /tmp/mpv-socket
bindsym Home				exec brightnessctl s +500000
bindsym End				exec brightnessctl s 500000-

###Same, but for 60% keyboards
bindsym $mod+ctrl+y			exec dmpv videos /tmp/mpv-socket2 /tmp/mpv-socket --fs fuzz
bindsym $mod+$alt+y			exec rmpv videos 50
bindsym $mod+ctrl+u			exec dmpv music /tmp/mpv-socket /tmp/mpv-socket2 --no-video fuzz
bindsym $mod+$alt+u			exec rmpv music 50
bindsym $mod+ctrl+i			exec hmpv back /tmp/mpv-socket
bindsym $mod+$alt+i 			exec hmpv prev /tmp/mpv-socket
bindsym $mod+ctrl+o			exec hmpv toggle /tmp/mpv-socket; exec hmpv toggle /tmp/mpv-socket2
bindsym $mod+$alt+o			exec hmpv quit /tmp/mpv-socket
bindsym $mod+ctrl+p			exec hmpv forward /tmp/mpv-socket
bindsym $mod+$alt+p			exec hmpv next /tmp/mpv-socket
bindsym $mod+ctrl+t			exec brightnessctl s +500000
bindsym $mod+$alt+t			exec brightnessctl s 500000-


##i3 related commands
focus_follows_mouse no
mouse_warping none
popup_during_fullscreen ignore
focus_on_window_activation urgent
